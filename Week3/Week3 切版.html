<!DOCTYPE html>
<html>
    <head>
        <meta name="view point" content="width=device-width, initial-scale=1.0, minimum-scale=1">
        <meta charest="utf-8"/>
        <title>網頁切版</title>
        <link rel="stylesheet" type="text/css" href="Week1-2 切版.CSS" />
    </head>
    <body>
        <div class="frame">
            <div class="left">My Website</div>
            <div class="right">
                <div class="item">Item 1</div>
                <div class="item">Item 2</div>
                <div class="item">Item 3</div>
                <div class="item">Item 4</div>
            </div>
            <div class="right2">
                <img src="menu.png" width="30" height="30" />
            </div>
        </div>

        <div class="frame2">
            <div class="welcome">Welcome to MyHome</div>
        </div>

        <div class="frame3">
            <div class="frame3-1"></div>
            <div class="frame3-1"></div>
            <div class="frame3-1"></div>
        </div>

        <div class="frame4">
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>
            <div class="frame4-1"></div>  
        </div>

        <script>
            function getData(){
                
                fetch("https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json")
                .then(function(response){
                    return response.json();
                })
                .then(function(data){
                    let frame3 = document.querySelectorAll(".frame3-1");
                   
                    for(let i = 0; i < frame3.length; i++){
                        
                        let file = data.result.results[i].file;
                        let figcontainer = document.createElement("div");
                        figcontainer.classList.add("fig");
                        let urlSegments = file.split("https").filter(url => url.trim() !== "");
                        let finalUrls = urlSegments.map(function(segment) { return "https" + segment });
                        let newDiv = document.createElement("div");
                        let image = document.createElement("img");
                        image.src = finalUrls[0];
                        newDiv.appendChild(image);

                        image.style.width = "80px"; 
                        image.style.height = "50px"; 
                        figcontainer.appendChild(newDiv);
                       
                        let stitle = data.result.results[i].stitle;
                        let textcontainer = document.createElement("div");
                        textcontainer.classList.add("text");
                        let newdiv2 = document.createElement('div');
                        newdiv2.textContent = stitle;
                        textcontainer.appendChild(newdiv2);
    
                    frame3[i].appendChild(figcontainer);
                    frame3[i].appendChild(textcontainer);
                    }
                })  
            }
            getData();
        </script>

        <script>
            function getData(){
                fetch("https://padax.github.io/taipei-day-trip-resources/taipei-attractions-assignment.json")
                .then(function(response){
                    return response.json();
                })
                .then(function(data){
                    let frame4 = document.querySelectorAll(".frame4-1");
                  
                    for(let i = 0; i < frame4.length; i++){
                        
                        let file = data.result.results[i+3].file;
                        let figcontainer = document.createElement("div");
                        figcontainer.classList.add("fig2");
                        let urlSegments = file.split("https").filter(url => url.trim() !== "");
                        let finalUrls = urlSegments.map(function(segment) { return "https" + segment });
                        let newDiv = document.createElement("div");
                        let image = document.createElement("img");
                        image.src = finalUrls[0];
                        newDiv.appendChild(image);
                        
                        image.style.height = "150px";
                        image.style.width = "100%";
                        figcontainer.style.position = "relative";
                        figcontainer.style.overflow = "hidden";
                        image.style.position = "absolute";
                        image.style.top = "50%";
                        image.style.left = "50%";
                        image.style.transform = "translate(-50%, -50%)";
                        image.style.objectFit = "cover";
                        figcontainer.appendChild(newDiv);

                        frame4[i].appendChild(figcontainer);
                        let stitle = data.result.results[i+3].stitle;
                        let textcontainer = document.createElement("div");
                        textcontainer.classList.add("text2");
                        let newdiv2 = document.createElement('div');
                        newdiv2.textContent = stitle;
                     
                        textcontainer.appendChild(newdiv2); frame4[i].appendChild(textcontainer);
                    }
                })  
            }
            getData();
        </script>
    </body>
</html>      


