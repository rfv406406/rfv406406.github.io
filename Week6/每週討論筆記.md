### 請說明 Primary Key、Foreign Key 有哪些作用？

- Primary Key 主鍵，用來代表資料的唯一性，唯一的識別，也有索引的功能。
- Foreign Key 外鍵，建立不同資料表之間的關聯性，建立主從關係，有約束的效果。(Constraint)

主鍵的資料不小心刪掉，會導致資料不一致。

### 請舉實際的應用案例，說明資料表的 One-to-Many 設計。

Customer         Order
id               id
                 customer_id


### 請舉實際的應用案例，說明資料表的 Many-to-Many 設計。

Member          Like                   Post
id              member_id              id
                post_id


## 以下根據第五週的任務：

### 如何做關鍵字的部份比對？找出留言內容包含「測試」的留言？

SELECT * FROM message WHERE content LIKE '%test%';

### 如何用一次 SQL 指令取得每個使用者，留言的平均按讚數？

SELECT AVG(like_count) FROM message GROUP BY member_id;


SELECT mes.member_id, 
       mem.name AS member_name,
       AVG(mes.like_count) AS avg_likes
FROM message mes
JOIN member mem ON mes.member_id = mem.id
GROUP BY mes.member_id, mem.name;

### 如果要支援留言中包含零到多個標籤文字 ( 社群平台中的文章標籤功能，可以根據標籤找到留言 )，你會怎麼設計資料表？

Message           Message_Tag                       Tag
id                message_id                        id
                  tag_id                            text
                  
找到所有 mysql 標籤的留言

SELECT msg.*, t.* from message msg
LEFT JOIN message_tag msg_t on msg.id = msg_t.message_id
LEFT JOIN tag t on t.id = msg_t.tag_id
WHERE t.text='mysql'
ORDER BY msg.id, msg_t.tag_id;

### 請示範操作如何使用 MySQL Workbench 產生 ERD (Entity Relationship Diagram)

